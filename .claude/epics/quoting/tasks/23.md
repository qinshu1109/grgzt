# [P0.3] 简洁模式UI实现

id: 23
title: 一屏"粘贴→识别→调参→三档价→导出"，隐藏项目/任务/工时等
priority: P0
estimate: 4番茄 (6小时)
status: todo
depends_on: [20]
parallel_with: [26]
module: ui
ext_id:

## 目的/产出
实现简洁模式的用户界面，隐藏Leads/Projects/Tasks/Timesheets功能区块，提供单页完成PRD粘贴到报价导出的完整操作流程。

## 实施步骤

1. 简洁模式开关实现
   - 在现有UI顶部添加模式切换按钮
   - 实现showAdvancedMode状态管理
   - 保存用户模式选择偏好

2. 隐藏现有功能区块
   - Leads相关UI组件条件渲染
   - Projects/Tasks/Timesheets区块隐藏
   - 保持完整模式可用性

3. PRD粘贴区组件开发
   - 左侧粘贴区域：textarea支持txt/md格式
   - 字数统计实时显示
   - 格式化按钮（清除格式、分段）

4. 识别结果表格组件
   - 右侧上方：功能条目表格
   - 显示：tag、名称、复杂度、工时、置信度
   - 支持勾选/取消、复杂度调整、工时修改

5. 报价参数配置组件
   - 右侧中部：基础价、时薪、复杂度系数设置
   - 税费预留比例配置
   - 打包项添加/删除

6. 报价预览组件
   - 右侧下方：三档价格卡片展示
   - 实时计算和更新
   - 明细展开/收起功能

## 验收标准

- ✅ 模式切换按钮正常工作，可隐藏/显示高级功能
- ✅ 简洁模式下Leads/Projects/Tasks/Timesheets完全隐藏
- ✅ PRD粘贴区支持大文本(200k字符)，有字数统计
- ✅ 识别结果表格可正确显示功能条目
- ✅ 支持人工调整复杂度和工时，实时更新价格
- ✅ 报价参数配置界面响应式布局
- ✅ 三档价格实时计算显示正确

## 约束/边界

**仅修改以下文件/模块**：
- index.html (UI组件和样式)
- 相关CSS样式（Tailwind类）
- 简单的JavaScript状态管理

**明确不修改**：
- 现有业务逻辑和数据模型
- quotes/quote_items表结构
- 数据库操作代码

## 依赖/并行

- **依赖**: 20(复杂度系数配置，用于显示系数值)
- **可并行**: 26(报价计算，可并行开发UI)

## 风险与回退

**可能风险**：
- 大文本粘贴性能问题
- 响应式布局在不同屏幕尺寸下异常

**回退方式**：
- 大文本分段处理，添加加载状态
- 简化布局，确保基本功能可用
- 保持完整模式作为fallback
