# [P1.2] 不确定性清单生成

id: 18
title: 自动生成"不确定性清单"并写入导出
priority: P1
estimate: 2番茄 (3小时)
status: todo
depends_on: [24]
parallel_with: [28]
module: analysis
ext_id:

## 目的/产出
实现不确定性清单自动生成功能，识别高风险技术标签并提示人工确认。

## 实施步骤

1. 高风险标签定义
   - 定义高风险技术标签列表（multi_tenant、rbac_workflow、payment等）
   - 设置风险等级和提示信息
   - 配置不确定性判断规则

2. 不确定性检测逻辑
   - 分析识别结果中的高风险标签
   - 检测缺失的关键信息
   - 评估识别置信度低于阈值的条目

3. 不确定性清单生成
   - 自动生成不确定性描述
   - 提供人工确认建议
   - 按优先级排序显示

4. 导出集成
   - 将不确定性清单写入报价单
   - 在Markdown导出中单独章节显示
   - 提供不确定性对价格影响的说明

## 验收标准

- ✅ 能正确识别常见高风险技术标签
- ✅ 不确定性描述清晰有用
- ✅ 集成到报价单导出中
- ✅ 支持人工确认和修改
- ✅ 不确定性分级合理
- ✅ 不影响正常报价流程

## 约束/边界

**仅修改以下文件/模块**：
- main.js (不确定性检测逻辑)
- index.html (不确定性显示组件)
- 导出模板文件

**明确不修改**：
- 现有识别算法
- 报价计算逻辑
- 数据库结构

## 依赖/并行

- **依赖**: 24(规则引擎，提供识别结果)
- **可并行**: 28(历史记录)

## 风险与回退

**可能风险**：
- 不确定性判断过于严格或宽松
- 生成的不确定性描述不够有用
- 用户体验受到影响

**回退方式**：
- 提供不确定性阈值调整
- 简化不确定性描述模板
- 可选择关闭此功能
