---
title: 线索管理和报价功能
type: task
status: backlog
priority: high
estimated: 6h
created: 2025-09-14T12:50:30Z
---

# 任务：线索管理和报价功能

## 🎯 任务目标
实现最简单的客户线索录入和基础报价计算功能。

## 📋 最小功能范围
- 客户信息表单（姓名、项目名、预算、期限）
- 功能点列表（名称、工时、复杂度）
- 三档报价计算（基础、标准、进阶）
- 简单的报价预览

## 🛠️ 技术实现（极简方式）
- 使用原生 HTML 表单 + React 状态管理
- 报价计算使用简单 JavaScript 函数
- 数据存储在 SQLite 的 2-3 个表中
- UI 使用原生 div + CSS 布局，无复杂组件

## 📋 核心数据结构
```sql
-- 客户线索表
CREATE TABLE leads (
  id INTEGER PRIMARY KEY,
  client_name TEXT,
  project_name TEXT,
  budget_min INTEGER,
  budget_max INTEGER,
  deadline TEXT,
  notes TEXT
);

-- 功能点表
CREATE TABLE features (
  id INTEGER PRIMARY KEY,
  lead_id INTEGER,
  feature_name TEXT,
  hours_est INTEGER,
  complexity TEXT,  -- S/M/L
  in_scope BOOLEAN
);
```

## ✅ 验收标准
- [ ] 能够添加客户信息
- [ ] 能够添加/删除功能点
- [ ] 能够实时计算三档报价
- [ ] 数据能保存到 SQLite
- [ ] 页面刷新后数据不丢失

## 🚫 禁止的复杂实现
- ❌ 不使用表单验证库
- ❌ 不使用拖拽功能
- ❌ 不使用复杂的表格组件
- ❌ 不使用 PDF 导出（先显示预览）
- ❌ 不使用响应式设计（固定布局即可）

## 💡 报价计算公式
```
基础档 = (基础价 + Σ(工时 × 时薪 × 复杂度系数)) × 0.8
标准档 = 基础价 + Σ(工时 × 时薪 × 复杂度系数)
进阶档 = 标准档 × 1.25
```